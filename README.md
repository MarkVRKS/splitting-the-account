# Сервис для деления счета в ресторанах (Bill Splitter)

## Описание

Сервис Bill Splitter предназначен для автоматизации процесса разделения счета в ресторане между несколькими участниками. Используя технологию OCR, сервис извлекает данные с чека, обрабатывает их и предлагает удобные способы распределения суммы.

## Проблематика

Разделение счета в группе людей часто приводит к:
- Ручному вводу данных с чека — долго и подвержено ошибкам.
- Неверному расчету долей, особенно при наличии скидок, акций или чаевых.
- Неудобству в определении, кто за что платил.

## Цель

Создать простой в использовании сервис, который:
- Автоматически считывает чек через OCR.
- Предлагает различные варианты деления счета.
- Учитывает индивидуальные заказы, чаевые и скидки.

## Архитектура

### Диаграмма архитектуры
+------------------+       +------------+       +--------------------+
| Загрузка чека    | ----> | OCR-модуль | ----> | Парсинг результата |
+------------------+       +------------+       +--------------------+
                                                      |
                                                      v
                                        +-------------------------------+
                                        | Логика деления счета          |
                                        +-------------------------------+
                                                      |
                                                      v
                                         +--------------------------+
                                         | Пользовательский интерфейс |
                                         +--------------------------+

### Основные модули

1. Модуль загрузки и обработки изображения чека
   - Поддерживает загрузку изображений в форматах JPG, PNG.
   - Выполняет предварительную обработку: улучшение контраста, выравнивание, удаление шума.

2. OCR-модуль
   - Отвечает за распознавание текста на чеке.
   - Возвращает сырую строку текста.

3. Модуль парсинга данных
   - Анализирует результат OCR и извлекает структурированные данные: названия блюд, цены, чаевые, общую сумму.

4. Модуль логики деления счета
   - Реализует алгоритмы деления: равномерное, пропорциональное, с учетом скидок и чаевых.
   - Обрабатывает пользовательские корректировки (например, исключение определенных позиций).

5. Модуль пользовательского интерфейса
   - Отображает чек, дает возможность выбора способа деления.
   - Предоставляет результат в виде таблицы или списка.

### Взаимодействие модулей

1. Пользователь загружает изображение чека.
2. Система применяет OCR и получает неструктурированный текст.
3. Текст анализируется и преобразуется в структурированные данные.
4. Пользователь выбирает метод деления.
5. Сервис рассчитывает доли и отображает результат.

---

## Выбор OCR-платформы

### Критерии выбора:
- Точность распознавания: особенно важно распознавание чисел и специальных символов.
- Стоимость: желательно open-source или недорогое решение.
- Интеграция с Python.
- Простота использования.

### Сравнение платформ:

| Платформа              | Точность | Стоимость | Интеграция | Простота | Комментарий |
|------------------------|----------|-----------|------------|----------|-------------|
| Tesseract OCR          | Средняя  | Бесплатно | ✅         | ✅        | Хорошо работает с печатными чеками |
| Google Cloud Vision API| Высокая  | Платно    | ✅         | ✅        | Отличная точность, но требует API-ключа |
| AWS Textract           | Очень высокая | Платно | ✅         | ❌        | Мощный, но сложнее в настройке |

### Рекомендуемое решение: Tesseract OCR

#### Преимущества:
- Open-source.
- Поддержка множества языков.
- Простота установки и интеграции.
- Хорошая производительность на типичных чеках.
